"use strict";(self.webpackChunkform_ip_app=self.webpackChunkform_ip_app||[]).push([[278],{6278:function(e,n,t){t.r(n),t.d(n,{default:function(){return V}});var r,i=t(4554),o=t(9164),s=t(2354),a=t(2791),c=t(1343),l=t(1534),x=t(8946),u=t(6378),d=t(4454),h=t(4989),p=t(3500),f=t(184),m=function(){var e=(0,a.useContext)(l.l).formikClause;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(i.Z,{sx:{height:(0,s.K)("74px","72px"),pl:(0,s.K)(1.6,0),borderBottom:1,borderColor:"info.light",position:"relative",display:"flex",alignItems:"center"},children:[(0,f.jsx)(h.Z,{control:(0,f.jsx)(d.Z,{checkedIcon:(0,f.jsx)(x.Z,{sx:{color:"info.dark"}}),icon:(0,f.jsx)(u.Z,{}),sx:{"&:hover":{boxShadow:2},color:e.values.confirmation?"main.dark":"primary.main"}}),name:"confirmation",checked:e.values.confirmation,onChange:e.handleChange,label:"Zapozna\u0142em/-\u0142am si\u0119 z klauzul\u0105 informacyjn\u0105 i wyra\u017cam zgod\u0119 na przetwarzanie moich danych osobowych na zasadach i w celach w niej wskazanych",sx:{"& .MuiFormControlLabel-label":{color:e.values.confirmation?"main.dark":"primary.main",fontSize:function(e){return e.typography.fs_12_rg}}}}),(0,f.jsx)(i.Z,{sx:{ml:3.2,position:"absolute",bottom:(0,s.K)("-11px","-8px","-1px")},children:(0,f.jsx)(p.Z,{formik:e,value:"confirmation"})})]})})},j=t(8007),g=(0,t(5847).Ue)((function(e){return{isCaptcha:!1,setChaptcha:function(n){e((function(e){return{isCaptcha:n}}))}}})),b=function(){var e=g((function(e){return e.setChaptcha})),n="6LdYN2EoAAAAAFMUnqMVgW9oVyF2n-V4vszZNewf";return(0,f.jsx)(i.Z,{sx:{position:"absolute",right:"50%",left:"50%",transform:"translate(-50%)",bottom:(0,s.K)("120px","90px"),display:"flex",justifyContent:(0,s.K)("center","end"),width:"100%",backgroundColor:"white"},children:(0,f.jsx)(i.Z,{sx:{transform:"scale(0.79)",mr:(0,s.K)(0,0,-1.6)},children:(0,f.jsx)(j.Z,{sitekey:n,onChange:function(){e(!0)}})})})},Z=t(419),v=t(4294),C=function(){var e=(0,a.useContext)(l.l),n=e.currentStepIdx,t=e.next,r=e.formikClause,i=e.isConfirmed,o=Object.values(r.errors);return(0,a.useEffect)((function(){i&&0===o.length&&t()}),[i]),(0,f.jsx)(f.Fragment,{children:1===n&&(0,f.jsx)(v.Z,{variant:"contained",type:"submit",onClick:function(){return i&&0===o.length&&t()},endIcon:(0,f.jsx)(Z.Z,{}),sx:{width:(0,s.K)("65%","12rem"),"&:hover":{bgcolor:"#2455BA"}},children:"Zatwierd\u017a"})})},y=function(){var e=(0,a.useContext)(l.l),n=e.currentStepIdx,t=e.isSubmited,r=e.next,i=e.formik,o=Object.values(i.errors);return(0,a.useEffect)((function(){t&&0===o.length&&r()}),[t]),(0,f.jsx)(f.Fragment,{children:0===n&&(0,f.jsx)(v.Z,{variant:"contained",type:"submit",onClick:function(){t&&0===o.length&&r()},endIcon:(0,f.jsx)(Z.Z,{}),sx:{width:(0,s.K)("65%","12rem"),"&:hover":{bgcolor:"#2455BA"},marginLeft:(0,s.K)(0,"auto")},children:"Zatwierd\u017a"})})},w=t(1413),K=t(9439),k=t(168),I=t(1238),z=t(9053),F=(0,t(2554).F4)(r||(r=(0,k.Z)(["\n  0% {\n     transform: translateY(20%)\n  }\n  100% {\n   transform: translateY(-20%)\n  }\n"]))),S=function(){var e=(0,a.useContext)(l.l),n=e.formik,t=e.sendRequest,r=e.currentStepIdx,i=e.next,o=g((function(e){return e.isCaptcha})),c=g((function(e){return e.setChaptcha})),x=(0,a.useState)(!1),u=(0,K.Z)(x,2),d=u[0],h=u[1];(0,a.useEffect)((function(){d&&i()}),[d]),(0,a.useEffect)((function(){2!==r&&c(!1)}),[r]);return(0,f.jsx)(f.Fragment,{children:2===r&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(v.Z,{variant:"contained",onClick:function(){r<2&&i(),o&&2===r&&t({url:"https://mail-sender-production.up.railway.app/receive",body:{member:(0,w.Z)((0,w.Z)({},n.values),{},{submitDate:(0,I.i)()})},method:"POST"},h)},endIcon:o?(0,f.jsx)(Z.Z,{}):(0,f.jsx)(z.Z,{sx:{animation:"".concat(F," 0.8s ease-in-out infinite alternate")}}),sx:{width:(0,s.K)("65%","12rem"),"&:hover":{backgroundColor:"#2455BA"}},children:o?"Wy\u015blij":"ZAZNACZ CAPTCHA"})})})},A=t(479),_=function(){var e=(0,a.useContext)(l.l),n=e.currentStepIdx,t=e.back;return(0,f.jsx)(f.Fragment,{children:n>0&&(0,f.jsx)(v.Z,{variant:"contained",startIcon:(0,f.jsx)(A.Z,{}),onClick:function(){return t()},sx:{height:"fit-content",width:(0,s.K)("65%","12rem"),"&:hover":{bgcolor:"#2455BA"},mt:(0,s.K)(1,0)},children:"Wr\xf3\u0107"})})},E=function(){var e=(0,a.useContext)(l.l).currentStepIdx;return(0,f.jsxs)(o.Z,{sx:{position:"fixed",bottom:0,width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",px:(0,s.K)("20px !importand","20px !importand","16px !important"),bgcolor:"white",zIndex:2},children:[1===e&&(0,f.jsx)(m,{}),2===e&&(0,f.jsx)(b,{}),(0,f.jsxs)(i.Z,{sx:{height:(0,s.K)("120px","90px"),display:"flex",flexDirection:(0,s.K)("column-reverse","row"),justifyContent:(0,s.K)("center","space-between"),alignItems:"center"},children:[(0,f.jsx)(_,{}),(0,f.jsx)(y,{}),(0,f.jsx)(C,{}),(0,f.jsx)(S,{})]})]})},W=function(){var e=(0,a.useContext)(l.l),n=e.steps,t=e.currentStepIdx,r=e.formik,x=e.formikClause,u=e.isLastStep,d=[(0,a.useRef)(null),(0,a.useRef)(null),(0,a.useRef)(null)];(0,a.useEffect)((function(){d.forEach((function(e){e.current&&(e.current.scrollTop=0)}))}),[t]);var h=0===t?r.handleSubmit:x.handleSubmit,p=0===t?(0,s.K)("calc(100% - 120px)","calc(100% - 90px)"):(0,s.K)("calc(100% - 120px - 74px)","calc(100% - 90px - 72px)");return(0,f.jsxs)(o.Z,{sx:{height:(0,s.K)("calc(100vh - 56px)","calc(100vh - 92px)"),mt:(0,s.K)("56px","92px"),padding:"0px !important"},children:[t<3&&(0,f.jsxs)("form",{onSubmit:h,style:{height:"100%",overflow:"hidden"},children:[(0,f.jsx)(i.Z,{sx:{height:p,display:"grid",gridTemplateColumns:"repeat(3, 100%)",transform:"translate(-".concat(t,"00%)"),transition:"transform 0.5s ease"},children:n.slice(0,-1).map((function(e,n){return(0,f.jsx)(i.Z,{ref:d[n],sx:{overflowY:"auto",px:1.6},children:e},n)}))}),!u&&(0,f.jsx)(E,{})]}),u&&(0,f.jsx)(c.Z,{})]})},B=t(4358),L=function(){var e=(0,a.useContext)(l.l).formik,n=Object.values(e.errors);return(0,f.jsx)(i.Z,{sx:{maxWidth:"1200px",width:"100%",height:"100%",position:"fixed",top:0,left:"50%",right:"50%",transform:n.length>0?"translate(-50%)":"translate(-50%, -100%)",transition:"0.5s",display:"grid",placeItems:"center",bgcolor:"rgb(253, 237, 237)",zIndex:3},children:(0,f.jsx)(B.Z,{severity:"error",sx:{height:"fit-content"},children:"Wype\u0142nij pola formularza"})})},R=t(890),O=function(e){var n=(0,a.useContext)(l.l).currentStepIdx;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(i.Z,{sx:{width:(0,s.K)("20px","30px"),height:(0,s.K)("20px","30px"),border:1,borderRadius:"100%",display:"grid",placeItems:"center",backgroundColor:n>=e.idx?"primary.main":"transparent",color:n>=e.idx?"white":"info.main"},children:(0,f.jsx)(R.Z,{variant:"fs_14_sb",color:"info",children:e.idx+1})})})},P=function(e){return(0,f.jsx)(R.Z,{variant:"fs_12_sb",color:"info.dark",component:"p",sx:{width:(0,s.K)("100%","100%","fit-content"),position:(0,s.K)("absolute","absolute","unset"),top:(0,s.K)("22px","32px"),left:"-27px",textAlign:"center",ml:(0,s.K)(0,0,1.3)},children:e.text})},T=t(3385),Y=function(e){return(0,f.jsx)(f.Fragment,{children:e.idx<e.array.length-1&&(0,f.jsx)(T.Z,{color:"secondary",sx:{mx:"21px",fontSize:(0,s.K)("0.8rem","small")}})})},D=(0,a.memo)((function(){return(0,f.jsxs)(o.Z,{sx:{height:(0,s.K)("56px","92px"),position:"fixed",top:0,left:"50%",transform:"translate(-50%)",display:"flex",alignItems:"center",pl:"16px !important",bgcolor:"white",zIndex:2,scrollbarGutter:"stable"},children:[(0,f.jsx)(L,{}),(0,f.jsx)(i.Z,{sx:{width:"fit-content",mx:(0,s.K)("auto","auto","0"),display:"flex",alignItems:"center",mb:(0,s.K)(1.3,1.3,0)},children:["Formularz","Klauzula","Wysy\u0142ka","Potwierdzenie"].map((function(e,n,t){return(0,f.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",position:"relative"},children:[(0,f.jsx)(O,{idx:n}),(0,f.jsx)(P,{text:e}),(0,f.jsx)(Y,{idx:n,array:t})]},e)}))})]})})),M=t(3239),N=function(){var e=(0,a.useContext)(l.l),n=e.error,t=e.isLoading,r={position:"absolute",height:(0,s.K)("calc(100vh - 56px)","calc(100vh - 92px)"),width:"100%",bgcolor:"white",opacity:"0.9",zIndex:3,backgroundColor:"white"},o={position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",minWidth:"300px",textAlign:"center",color:"red",zIndex:4};return t?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.Z,{sx:r}),(0,f.jsx)(i.Z,{sx:o,children:(0,f.jsx)(M.Z,{})})]}):n?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.Z,{sx:r}),(0,f.jsxs)(i.Z,{sx:o,children:[(0,f.jsx)(R.Z,{variant:"h1",component:"p",children:n.message}),(0,f.jsx)(R.Z,{variant:"fs_12_rg",component:"p",children:"Pon\xf3w pr\xf3b\u0119"})]})]}):(0,f.jsx)(f.Fragment,{})},V=function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("header",{children:(0,f.jsx)(D,{})}),(0,f.jsxs)("main",{children:[(0,f.jsx)(N,{}),(0,f.jsx)(W,{})]})]})}}}]);
//# sourceMappingURL=278.3d5da049.chunk.js.map