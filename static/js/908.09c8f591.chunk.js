"use strict";(self.webpackChunkform_ip_app=self.webpackChunkform_ip_app||[]).push([[908],{908:function(n,e,t){t.r(e),t.d(e,{default:function(){return $}});var r,i=t(4554),o=t(9164),s=t(2354),a=t(2791),c=t(1343),l=t(3998),x=t(8946),u=t(6378),d=t(4454),p=t(4989),h=t(3500),f=t(184),m=function(){var n=(0,a.useContext)(l.l).formikClause;return(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(i.Z,{sx:{height:(0,s.K)("74px","72px"),pl:(0,s.K)(1.6,0),borderBottom:1,borderColor:"info.light",position:"relative",display:"flex",alignItems:"center"},children:[(0,f.jsx)(p.Z,{control:(0,f.jsx)(d.Z,{checkedIcon:(0,f.jsx)(x.Z,{sx:{color:"info.dark"}}),icon:(0,f.jsx)(u.Z,{}),sx:{"&:hover":{boxShadow:2},color:n.values.confirmation?"main.dark":"primary.main"}}),name:"confirmation",checked:n.values.confirmation,onChange:n.handleChange,label:"Zapozna\u0142em/-\u0142am si\u0119 z klauzul\u0105 informacyjn\u0105 i wyra\u017cam zgod\u0119 na przetwarzanie moich danych osobowych na zasadach i w celach w niej wskazanych",sx:{"& .MuiFormControlLabel-label":{color:n.values.confirmation?"main.dark":"primary.main",fontSize:function(n){return n.typography.fs_12_rg}}}}),(0,f.jsx)(i.Z,{sx:{ml:3.2,position:"absolute",bottom:(0,s.K)("-11px","-8px","-1px")},children:(0,f.jsx)(h.Z,{formik:n,value:"confirmation"})})]})})},j=t(8007),g=t(5847),b=(0,g.Ue)((function(n){return{isCaptcha:!1,setChaptcha:function(e){n((function(n){return{isCaptcha:e}}))}}})),Z=function(){var n=b((function(n){return n.setChaptcha})),e="6LdYN2EoAAAAAFMUnqMVgW9oVyF2n-V4vszZNewf";return(0,f.jsx)(i.Z,{sx:{position:"absolute",right:"50%",left:"50%",transform:"translate(-50%)",bottom:(0,s.K)("120px","90px"),display:"flex",justifyContent:(0,s.K)("center","end"),width:"100%",backgroundColor:"white"},children:(0,f.jsx)(i.Z,{sx:{transform:"scale(0.79)",mr:(0,s.K)(0,0,-1.6)},children:(0,f.jsx)(j.Z,{sitekey:e,onChange:function(){n(!0)}})})})},v=t(419),y=t(4294),C=function(){var n=(0,a.useContext)(l.l),e=n.currentStepIdx,t=n.next,r=n.formikClause,i=n.isConfirmed,o=Object.values(r.errors);return(0,a.useEffect)((function(){i&&0===o.length&&t()}),[i]),(0,f.jsx)(f.Fragment,{children:1===e&&(0,f.jsx)(y.Z,{variant:"contained",type:"submit",onClick:function(){return i&&0===o.length&&t()},endIcon:(0,f.jsx)(v.Z,{}),sx:{width:(0,s.K)("65%","12rem"),"&:hover":{bgcolor:"#2455BA"}},children:"Zatwierd\u017a"})})},w=function(){var n=(0,a.useContext)(l.l),e=n.currentStepIdx,t=n.isSubmited,r=n.next,i=n.formik,o=Object.values(i.errors);return(0,a.useEffect)((function(){t&&0===o.length&&r()}),[t]),(0,f.jsx)(f.Fragment,{children:0===e&&(0,f.jsx)(y.Z,{variant:"contained",type:"submit",onClick:function(){t&&0===o.length&&r()},endIcon:(0,f.jsx)(v.Z,{}),sx:{width:(0,s.K)("65%","12rem"),"&:hover":{bgcolor:"#2455BA"},marginLeft:(0,s.K)(0,"auto")},children:"Zatwierd\u017a"})})},k=t(1413),K=t(9439),I=t(168),z=t(1238),S=t(9053),F=t(2554),A=t(4165),_=t(5861),E=(0,g.ZP)((function(n){return{isLoading:!1,error:null,sendRequest:function(){var e=(0,_.Z)((0,A.Z)().mark((function e(t,r){var i,o;return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n({isLoading:!0,error:null}),e.prev=1,e.next=4,fetch(t.url,{method:t.method||"GET",body:t.body?JSON.stringify(t.body):null,headers:{Accept:"application/json","Content-Type":"application/json"}});case 4:if((i=e.sent).ok){e.next=9;break}throw Error("B\u0142\u0105d. Pon\xf3w pr\xf3b\u0119");case 9:return r(i.ok),e.next=12,i.json();case 12:return o=e.sent,e.abrupt("return",o);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),n({error:e.t0});case 19:return e.prev=19,n({isLoading:!1}),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[1,16,19,22]])})));return function(n,t){return e.apply(this,arguments)}}()}})),L=E,B=(0,F.F4)(r||(r=(0,I.Z)(["\n  0% {\n     transform: translateY(20%)\n  }\n  100% {\n   transform: translateY(-20%)\n  }\n"]))),W=function(){var n=(0,a.useContext)(l.l),e=n.formik,t=n.currentStepIdx,r=n.next,i=b((function(n){return n.isCaptcha})),o=b((function(n){return n.setChaptcha})),c=L((function(n){return n.sendRequest})),x=(0,a.useState)(!1),u=(0,K.Z)(x,2),d=u[0],p=u[1];(0,a.useEffect)((function(){d&&r()}),[d]),(0,a.useEffect)((function(){2!==t&&o(!1)}),[t]);return(0,f.jsx)(f.Fragment,{children:2===t&&(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(y.Z,{variant:"contained",onClick:function(){t<2&&r(),i&&2===t&&c({url:"https://mail-sender-production.up.railway.app/receive",body:{member:(0,k.Z)((0,k.Z)({},e.values),{},{submitDate:(0,z.i)()})},method:"POST"},p)},endIcon:i?(0,f.jsx)(v.Z,{}):(0,f.jsx)(S.Z,{sx:{animation:"".concat(B," 0.8s ease-in-out infinite alternate")}}),sx:{width:(0,s.K)("65%","12rem"),"&:hover":{backgroundColor:"#2455BA"}},children:i?"Wy\u015blij":"ZAZNACZ CAPTCHA"})})})},P=t(479),R=function(){var n=(0,a.useContext)(l.l),e=n.currentStepIdx,t=n.back;return(0,f.jsx)(f.Fragment,{children:e>0&&(0,f.jsx)(y.Z,{variant:"contained",startIcon:(0,f.jsx)(P.Z,{}),onClick:function(){return t()},sx:{height:"fit-content",width:(0,s.K)("65%","12rem"),"&:hover":{bgcolor:"#2455BA"},mt:(0,s.K)(1,0)},children:"Wr\xf3\u0107"})})},T=function(){var n=(0,a.useContext)(l.l).currentStepIdx;return(0,f.jsxs)(o.Z,{sx:{position:"fixed",bottom:0,width:"100%",display:"flex",flexDirection:"column",justifyContent:"center",px:(0,s.K)("20px !importand","20px !importand","16px !important"),bgcolor:"white",zIndex:2},children:[1===n&&(0,f.jsx)(m,{}),2===n&&(0,f.jsx)(Z,{}),(0,f.jsxs)(i.Z,{sx:{height:(0,s.K)("120px","90px"),display:"flex",flexDirection:(0,s.K)("column-reverse","row"),justifyContent:(0,s.K)("center","space-between"),alignItems:"center"},children:[(0,f.jsx)(R,{}),(0,f.jsx)(w,{}),(0,f.jsx)(C,{}),(0,f.jsx)(W,{})]})]})},O=function(){var n=(0,a.useContext)(l.l),e=n.steps,t=n.currentStepIdx,r=n.formik,x=n.formikClause,u=n.isLastStep,d=[(0,a.useRef)(null),(0,a.useRef)(null),(0,a.useRef)(null)];(0,a.useEffect)((function(){d.forEach((function(n){n.current&&(n.current.scrollTop=0)}))}),[t]);var p=0===t?r.handleSubmit:x.handleSubmit,h=0===t?(0,s.K)("calc(100% - 120px)","calc(100% - 90px)"):(0,s.K)("calc(100% - 120px - 74px)","calc(100% - 90px - 72px)");return(0,f.jsxs)(o.Z,{sx:{height:(0,s.K)("calc(100vh - 56px)","calc(100vh - 92px)"),mt:(0,s.K)("56px","92px"),padding:"0px !important"},children:[t<3&&(0,f.jsxs)("form",{onSubmit:p,style:{height:"100%",overflow:"hidden"},children:[(0,f.jsx)(i.Z,{sx:{height:h,display:"grid",gridTemplateColumns:"repeat(3, 100%)",transform:"translate(-".concat(t,"00%)"),transition:"transform 0.5s ease"},children:e.slice(0,-1).map((function(n,e){return(0,f.jsx)(i.Z,{ref:d[e],sx:{overflowY:"auto",px:1.6},children:n},e)}))}),!u&&(0,f.jsx)(T,{})]}),u&&(0,f.jsx)(c.Z,{})]})},N=t(4358),Y=function(){var n=(0,a.useContext)(l.l).formik,e=Object.values(n.errors);return(0,f.jsx)(i.Z,{sx:{maxWidth:"1200px",width:"100%",height:"100%",position:"fixed",top:0,left:"50%",right:"50%",transform:e.length>0?"translate(-50%)":"translate(-50%, -100%)",transition:"0.5s",display:"grid",placeItems:"center",bgcolor:"rgb(253, 237, 237)",zIndex:3},children:(0,f.jsx)(N.Z,{severity:"error",sx:{height:"fit-content"},children:"Wype\u0142nij pola formularza"})})},q=t(890),D=function(n){var e=(0,a.useContext)(l.l).currentStepIdx;return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(i.Z,{sx:{width:(0,s.K)("20px","30px"),height:(0,s.K)("20px","30px"),border:1,borderRadius:"100%",display:"grid",placeItems:"center",backgroundColor:e>=n.idx?"primary.main":"transparent",color:e>=n.idx?"white":"info.main"},children:(0,f.jsx)(q.Z,{variant:"fs_14_sb",color:"info",children:n.idx+1})})})},M=function(n){return(0,f.jsx)(q.Z,{variant:"fs_12_sb",color:"info.dark",component:"p",sx:{width:(0,s.K)("100%","100%","fit-content"),position:(0,s.K)("absolute","absolute","unset"),top:(0,s.K)("22px","32px"),left:"-27px",textAlign:"center",ml:(0,s.K)(0,0,1.3)},children:n.text})},V=t(3385),G=function(n){return(0,f.jsx)(f.Fragment,{children:n.idx<n.array.length-1&&(0,f.jsx)(V.Z,{color:"secondary",sx:{mx:"21px",fontSize:(0,s.K)("0.8rem","small")}})})},U=(0,a.memo)((function(){return(0,f.jsxs)(o.Z,{sx:{height:(0,s.K)("56px","92px"),position:"fixed",top:0,left:"50%",transform:"translate(-50%)",display:"flex",alignItems:"center",pl:"16px !important",bgcolor:"white",zIndex:2,scrollbarGutter:"stable"},children:[(0,f.jsx)(Y,{}),(0,f.jsx)(i.Z,{sx:{width:"fit-content",mx:(0,s.K)("auto","auto","0"),display:"flex",alignItems:"center",mb:(0,s.K)(1.3,1.3,0)},children:["Formularz","Klauzula","Wysy\u0142ka","Potwierdzenie"].map((function(n,e,t){return(0,f.jsxs)(i.Z,{sx:{display:"flex",alignItems:"center",position:"relative"},children:[(0,f.jsx)(D,{idx:e}),(0,f.jsx)(M,{text:n}),(0,f.jsx)(G,{idx:e,array:t})]},n)}))})]})})),H=t(3239),J={position:"absolute",height:(0,s.K)("calc(100vh - 56px)","calc(100vh - 92px)"),width:"100%",bgcolor:"white",opacity:"0.9",zIndex:3,backgroundColor:"white"},Q={position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",minWidth:"300px",textAlign:"center",color:"red",zIndex:4},X=function(){var n=L((function(n){return n.isLoading})),e=L((function(n){return n.error}));return n?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.Z,{sx:J}),(0,f.jsx)(i.Z,{sx:Q,children:(0,f.jsx)(H.Z,{})})]}):e?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.Z,{sx:J}),(0,f.jsx)(i.Z,{sx:Q,children:(0,f.jsx)(q.Z,{variant:"fs_12_rg",component:"p",children:"B\u0142\u0105d. Pon\xf3w pr\xf3b\u0119"})})]}):(0,f.jsx)(f.Fragment,{})},$=function(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("header",{children:(0,f.jsx)(U,{})}),(0,f.jsxs)("main",{children:[(0,f.jsx)(X,{}),(0,f.jsx)(O,{})]})]})}}}]);
//# sourceMappingURL=908.09c8f591.chunk.js.map